# Maximal Sharpe ratio portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$max_sharpe_port_sd,
Return = py$max_sharpe_port_return,
SharpeRatio = py$max_sharpe_port_return / py$max_sharpe_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Minimum variance portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$min_sd_port_sd,
Return = py$min_sd_port_return,
SharpeRatio = py$min_sd_port_return / py$min_sd_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Capital market line
plotly::add_lines(
data = tibble::tibble(
Risk = py$cml_sd,
Return = py$cml_exp_returns
),
x = ~Risk,
y = ~Return,
line = list(shape = "linear")
) %>%
plotly::layout(
title = "Mean-Standard Deviation Diagram",
yaxis = list(title = "Expected Portfolio Return (Annualized)", tickformat = ".2%"),
xaxis = list(title = "Portoflio Standard Deviation (Annualized)", tickformat = ".2%")
) %>%
plotly::add_annotations(
x = annotation_data[["x"]],
y = annotation_data[["y"]],
text = annotation_data[["type"]],
xref = "x",
yref = "y",
showarrow = TRUE,
arrowhead = 5,
arrowsize = .5,
ax = 20,
ay = -40
) %>%
plotly::colorbar(title = "Sharpe Ratio")
# Efficient frontier and Capital market line
plotly::plot_ly(
x = py$port_sd, y = py$port_returns, color = (py$port_returns / py$port_sd),
mode = "markers", type = "scattergl", showlegend = FALSE,
marker = list(size = 5, opacity = 0.7)
) %>%
# Random portfolios
plotly::add_trace(
data = tibble::tibble(
Risk = py$obj_sd,
Return = py$target,
SharpeRatio = py$target / py$obj_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Maximal Sharpe ratio portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$max_sharpe_port_sd,
Return = py$max_sharpe_port_return,
SharpeRatio = py$max_sharpe_port_return / py$max_sharpe_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Minimum variance portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$min_sd_port_sd,
Return = py$min_sd_port_return,
SharpeRatio = py$min_sd_port_return / py$min_sd_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Capital market line
plotly::add_lines(
data = tibble::tibble(
Risk = py$cml_sd,
Return = py$cml_exp_returns
),
x = ~Risk,
y = ~Return
) %>%
plotly::layout(
title = "Mean-Standard Deviation Diagram",
yaxis = list(title = "Expected Portfolio Return (Annualized)", tickformat = ".2%"),
xaxis = list(title = "Portoflio Standard Deviation (Annualized)", tickformat = ".2%")
) %>%
plotly::add_annotations(
x = annotation_data[["x"]],
y = annotation_data[["y"]],
text = annotation_data[["type"]],
xref = "x",
yref = "y",
showarrow = TRUE,
arrowhead = 5,
arrowsize = .5,
ax = 20,
ay = -40
) %>%
plotly::colorbar(title = "Sharpe Ratio")
# Efficient frontier and Capital market line
plotly::plot_ly(
x = py$port_sd, y = py$port_returns, color = (py$port_returns / py$port_sd),
mode = "markers", type = "scattergl", showlegend = FALSE,
marker = list(size = 5, opacity = 0.7)
) %>%
# Random portfolios
plotly::add_trace(
data = tibble::tibble(
Risk = py$obj_sd,
Return = py$target,
SharpeRatio = py$target / py$obj_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Maximal Sharpe ratio portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$max_sharpe_port_sd,
Return = py$max_sharpe_port_return,
SharpeRatio = py$max_sharpe_port_return / py$max_sharpe_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Minimum variance portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$min_sd_port_sd,
Return = py$min_sd_port_return,
SharpeRatio = py$min_sd_port_return / py$min_sd_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Capital market line
plotly::add_lines(
x = ~py$cml_sd,
y = ~py$cml_exp_returns
) %>%
plotly::layout(
title = "Mean-Standard Deviation Diagram",
yaxis = list(title = "Expected Portfolio Return (Annualized)", tickformat = ".2%"),
xaxis = list(title = "Portoflio Standard Deviation (Annualized)", tickformat = ".2%")
) %>%
plotly::add_annotations(
x = annotation_data[["x"]],
y = annotation_data[["y"]],
text = annotation_data[["type"]],
xref = "x",
yref = "y",
showarrow = TRUE,
arrowhead = 5,
arrowsize = .5,
ax = 20,
ay = -40
) %>%
plotly::colorbar(title = "Sharpe Ratio")
# Efficient frontier and Capital market line
plotly::plot_ly(
x = py$port_sd, y = py$port_returns, color = (py$port_returns / py$port_sd),
mode = "markers", type = "scattergl", showlegend = FALSE,
marker = list(size = 5, opacity = 0.7)
) %>%
# Random portfolios
plotly::add_trace(
data = tibble::tibble(
Risk = py$obj_sd,
Return = py$target,
SharpeRatio = py$target / py$obj_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Maximal Sharpe ratio portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$max_sharpe_port_sd,
Return = py$max_sharpe_port_return,
SharpeRatio = py$max_sharpe_port_return / py$max_sharpe_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Minimum variance portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$min_sd_port_sd,
Return = py$min_sd_port_return,
SharpeRatio = py$min_sd_port_return / py$min_sd_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Capital market line
plotly::add_lines(
data = tibble::tibble(
Risk = py$cml_sd,
Return = py$cml_exp_returns
),
x = ~Risk,
y = ~Return,
inherit = FALSE
) %>%
plotly::layout(
title = "Mean-Standard Deviation Diagram",
yaxis = list(title = "Expected Portfolio Return (Annualized)", tickformat = ".2%"),
xaxis = list(title = "Portoflio Standard Deviation (Annualized)", tickformat = ".2%")
) %>%
plotly::add_annotations(
x = annotation_data[["x"]],
y = annotation_data[["y"]],
text = annotation_data[["type"]],
xref = "x",
yref = "y",
showarrow = TRUE,
arrowhead = 5,
arrowsize = .5,
ax = 20,
ay = -40
) %>%
plotly::colorbar(title = "Sharpe Ratio")
# Efficient frontier and Capital market line
plotly::plot_ly(
x = py$port_sd, y = py$port_returns, color = (py$port_returns / py$port_sd),
mode = "markers", type = "scattergl", showlegend = FALSE,
marker = list(size = 5, opacity = 0.7)
) %>%
# Random portfolios
plotly::add_trace(
data = tibble::tibble(
Risk = py$obj_sd,
Return = py$target,
SharpeRatio = py$target / py$obj_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Maximal Sharpe ratio portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$max_sharpe_port_sd,
Return = py$max_sharpe_port_return,
SharpeRatio = py$max_sharpe_port_return / py$max_sharpe_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Minimum variance portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$min_sd_port_sd,
Return = py$min_sd_port_return,
SharpeRatio = py$min_sd_port_return / py$min_sd_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Capital market line
plotly::add_lines(
data = tibble::tibble(
Risk = py$cml_sd,
Return = py$cml_exp_returns
),
x = ~Risk,
y = ~Return,
color = "yellow",
# Do no inherit attributes from plot_ly()
inherit = FALSE
) %>%
plotly::layout(
title = "Mean-Standard Deviation Diagram",
yaxis = list(title = "Expected Portfolio Return (Annualized)", tickformat = ".2%"),
xaxis = list(title = "Portoflio Standard Deviation (Annualized)", tickformat = ".2%")
) %>%
plotly::add_annotations(
x = annotation_data[["x"]],
y = annotation_data[["y"]],
text = annotation_data[["type"]],
xref = "x",
yref = "y",
showarrow = TRUE,
arrowhead = 5,
arrowsize = .5,
ax = 20,
ay = -40
) %>%
plotly::colorbar(title = "Sharpe Ratio")
# Efficient frontier and Capital market line
plotly::plot_ly(
x = py$port_sd, y = py$port_returns, color = (py$port_returns / py$port_sd),
mode = "markers", type = "scattergl", showlegend = FALSE,
marker = list(size = 5, opacity = 0.7)
) %>%
# Random portfolios
plotly::add_trace(
data = tibble::tibble(
Risk = py$obj_sd,
Return = py$target,
SharpeRatio = py$target / py$obj_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Maximal Sharpe ratio portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$max_sharpe_port_sd,
Return = py$max_sharpe_port_return,
SharpeRatio = py$max_sharpe_port_return / py$max_sharpe_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Minimum variance portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$min_sd_port_sd,
Return = py$min_sd_port_return,
SharpeRatio = py$min_sd_port_return / py$min_sd_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Capital market line
plotly::add_lines(
data = tibble::tibble(
Risk = py$cml_sd,
Return = py$cml_exp_returns
),
x = ~Risk,
y = ~Return,
color = "purple",
# Do no inherit attributes from plot_ly()
inherit = FALSE
) %>%
plotly::layout(
title = "Mean-Standard Deviation Diagram",
yaxis = list(title = "Expected Portfolio Return (Annualized)", tickformat = ".2%"),
xaxis = list(title = "Portoflio Standard Deviation (Annualized)", tickformat = ".2%")
) %>%
plotly::add_annotations(
x = annotation_data[["x"]],
y = annotation_data[["y"]],
text = annotation_data[["type"]],
xref = "x",
yref = "y",
showarrow = TRUE,
arrowhead = 5,
arrowsize = .5,
ax = 20,
ay = -40
) %>%
plotly::colorbar(title = "Sharpe Ratio")
# Efficient frontier and Capital market line
plotly::plot_ly(
x = py$port_sd, y = py$port_returns, color = (py$port_returns / py$port_sd),
mode = "markers", type = "scattergl", showlegend = FALSE,
marker = list(size = 5, opacity = 0.7)
) %>%
# Random portfolios
plotly::add_trace(
data = tibble::tibble(
Risk = py$obj_sd,
Return = py$target,
SharpeRatio = py$target / py$obj_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Maximal Sharpe ratio portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$max_sharpe_port_sd,
Return = py$max_sharpe_port_return,
SharpeRatio = py$max_sharpe_port_return / py$max_sharpe_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Minimum variance portfolio
plotly::add_trace(
data = tibble::tibble(
Risk = py$min_sd_port_sd,
Return = py$min_sd_port_return,
SharpeRatio = py$min_sd_port_return / py$min_sd_port_sd
),
x = ~Risk,
y = ~Return,
color = ~SharpeRatio,
mode = "markers",
type = "scattergl",
marker = list(size = 7)
) %>%
# Capital market line
plotly::add_lines(
data = tibble::tibble(
Risk = py$cml_sd,
Return = py$cml_exp_returns
),
x = ~Risk,
y = ~Return,
# Do no inherit attributes from plot_ly()
inherit = FALSE
) %>%
plotly::layout(
title = "Mean-Standard Deviation Diagram",
yaxis = list(title = "Expected Portfolio Return (Annualized)", tickformat = ".2%"),
xaxis = list(title = "Portoflio Standard Deviation (Annualized)", tickformat = ".2%")
) %>%
plotly::add_annotations(
x = annotation_data[["x"]],
y = annotation_data[["y"]],
text = annotation_data[["type"]],
xref = "x",
yref = "y",
showarrow = TRUE,
arrowhead = 5,
arrowsize = .5,
ax = 20,
ay = -40
) %>%
plotly::colorbar(title = "Sharpe Ratio")
reticulate::repl_python()
